<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Diseño.css">
    <title>Banco Unisimon</title>
</head>

<body>
    <img src="https://res.cloudinary.com/dayhc4cem/image/upload/v1730654139/vcwlfwvmk3xibrw5pvsg.jpg" alt="Foto Logo"
        class="Logo">
    <p id="nombreDelBanco"></p>
    <table id="tablaCliente">
        <thead>
            <tr>
                <th colspan="4" scope="colgroup">Informacion Cliente</th>
            </tr>
        </thead>
        <input type="text" id="barraBusqueda" placeholder="Introduce el ID del cliente">
        <button onclick="buscarCliente()">Buscar</button>
        <div id="resultadoBusqueda"></div>


        <tr>
            <th scope="col">Id</th>
            <th scope="col">Nombre</th>
            <th scope="col">Cédula</th>
            <th scope="col">Teléfono</th>
            <th scope="col">Eliminar</th>
        </tr>

        <tbody id="listaCliente"></tbody>
        <tfoot>
            <tr>
                <td colspan="4">


                    <label for="nombreCliente">Nombre:</label>
                    <input type="text" id="nombreCliente" placeholder="Ingrese un nombre " required>
                    <label for="apellidoCliente">Apellido:</label>
                    <input type="text" id="apellidoCliente" placeholder="Ingrese un apellido" required>
                    <label for="cedulaCliente">Cédula:</label>
                    <input type="text" id="cedulaCliente" placeholder="Ingrese una cédula" required>
                    <label for="direccionCliente">Dirección:</label>
                    <input type="text" id="direccionCliente" placeholder="Ingrese una dirección" required>
                    <label for="telefonoCliente">Teléfono:</label>
                    <input type="text" id="telefonoCliente" placeholder="Ingrese el teléfono" required>
                    <label for="correoCliente">Correo:</label>
                    <input type="email" id="correoCliente" placeholder="Ingrese un correo" required>
                    <button id="agregar_clientes" onclick="agregarClientes()">Agregar Clientes</button>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <label for="idEliminar">Eliminar Cliente por ID:</label>
                    <input type="text" id="idEliminar" placeholder="Ingrese el ID del cliente" required>
                    <button id="eliminar_clientes" onclick="eliminar_clientes()">Eliminar Cliente</button>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <form id="formActualizarCliente">
                        <input type="text" id="idActualizar" placeholder="Ingrese el ID del cliente" required>
                        <button type="button" onclick="cargar_cliente()">Cargar Cliente</button>
                        <label for="nuevoNombre">Nombre:</label>
                        <input type="text" id="nuevoNombre" placeholder="Nuevo Nombre">
                        <label for="nuevoApellido">Apellido:</label>
                        <input type="text" id="nuevoApellido" placeholder="Nuevo Apellido">
                        <label for="nuevoCedula">Cédula:</label>
                        <input type="text" id="nuevoCedula" placeholder="Nueva Cédula">
                        <label for="nuevaDireccion">Dirección:</label>
                        <input type="text" id="nuevaDireccion" placeholder="Nueva Dirección">
                        <label for="nuevoTelefono">Teléfono:</label>
                        <input type="text" id="nuevoTelefono" placeholder="Nuevo Teléfono">
                        <label for="nuevoCorreo">Correo:</label>
                        <input type="email" id="nuevoCorreo" placeholder="Nuevo Correo">
                        <button type="button" onclick="guardar_cambios_cliente()">Guardar Cambios</button>
                    </form>
                </td>
            </tr>
        </tfoot>
    </table>

    <table id="tablaSucursal">
        <thead>
            <tr>
                <th colspan="4" scope="colgroup">Informacion Sucursal</th>
            </tr>
        </thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Nombre</th>
            <th scope="col">Direccion</th>
            <th scope="col">Ciudad</th>
            <th scope="col">Codigo Postal</th>
            <th scope="col">Telefono</th>
            <th scope="col">Eliminar</th>
        </tr>
        <tbody id="listaSucursal"></tbody>
        <tfoot>
            <tr>
                <td colspan="4">
                    <label for="nombreSucursal">Nombre :</label>
                    <input type="text" id="nombreSucursal" placeholder="Ingrese un nombre " required>
                    <label for="direccionSucursal">Direccion:</label>
                    <input type="text" id="direccionSucursal" placeholder="Ingrese una direccion" required>
                    <label for="ciudadSucursal">Ciudad:</label>
                    <input type="text" id="ciudadSucursal" placeholder="Ingrese una ciudad" required>
                    <label for="codigoSucursal">Codigo Postal:</label>
                    <input type="text" id="codigoSucursal" placeholder="Ingrese una codigo" required>
                    <label for="telefonoSucursal">Teléfono:</label>
                    <input type="text" id="telefonoSucursal" placeholder="Ingrese el teléfono" required>
                    <button id="agregar_sucursal" onclick="agregarSucursal()">Agregar Sucursal</button>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <label for="idEliminar">Eliminar sucursal por ID:</label>
                    <input type="text" id="idEliminarsucursal" placeholder="Ingrese el ID de la sucursal" required>
                    <button id="eliminar_sucursal" onclick="eliminar_sucursales()">Eliminar Sucursal</button>
                </td>
            </tr>
            <tr>
                <td colspan="4">
                    <form id="formActualizarSucursal">
                        <input type="text" id="idActualizarS" placeholder="Ingrese el Id de la sucursal" required>
                        <button type="button" onclick="cargar_Sucursal()">Cargar Sucursal</button>
                        <label for="nuevoNombreS">Nombre:</label>
                        <input type="text" id="nuevoNombreS" placeholder="Nuevo Nombre">
                        <label for="nuevaDireccionS">Dirección:</label>
                        <input type="text" id="nuevaDireccionS" placeholder="Nueva Dirección">
                        <label for="nuevaCiudadS">Ciudad:</label>
                        <input type="text" id="nuevaCiudadS" placeholder="Nueva Ciudad">
                        <label for="NuevoCS">Codigo Postal:</label>
                        <input type="text" id="nuevoCodigoPostalS" placeholder="Nuevo Codigo Postal">
                        <label for="nuevoTelefonoS">Teléfono:</label>
                        <input type="text" id="nuevoTelefonoS" placeholder="Nuevo Teléfono">
                        <button type="button" onclick="guardar_cambios_sucursal()">Guardar Cambios</button>
                    </form>
                </td>
            </tr>
        </tfoot>
    </table>

    <table id="TablaCargo">
        <thead>
            <tr>
                <th colspan="4" scope="colgroup">Información De Empleado con Cargo</th>
            </tr>
        </thead>
        <tr>
            <th scope="col">Id de cargo</th>
            <th scope="col">Nombre de cargo</th>
        </tr>
        <tbody id="ListaCargo"></tbody>
        <tfoot>
            <tr>
                <td colspan="4">
                    <label for="idEliminarCargo">Eliminar Datos por ID:</label>
                    <input type="text" id="idEliminarCargo" placeholder="Ingrese el ID de la sucursal" required>
                    <button id="eliminar_Cargo" onclick="eliminar_cargos()">Eliminar Sucursal</button>
                </td>
            </tr>
        </tfoot>
    </table>


    <table id="TablaDepartamento">

        <thead>
            <tr>
                <th colspan="4" scope="colgroup">Informacion Departamento</th>
            </tr>
        </thead>
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Nombre</th>
            <th scope="col">Descripcion</th>
            <th scope="col">Eliminar</th>
        </tr>
        <tbody id="listaDepartamento"></tbody>
        <tfoot>
            <tr>
                <td colspan="4">
                    <label for="nombreDepartamento">Ingrese un Nombre</label>
                    <input type="text" id="nombreDepartamento" placeholder="Ingrese una Descripcion " required>
                    <label for="descripcionDepartamento">Ingrese una descripcion</label>
                    <input type="text" id="DescripcionDepartamento" placeholder="Ingrese un nombre " required>
                    <button id="agregar_sucursal" onclick="agregarDepartamento()">Agregar Departamento</button>
                </td>
            </tr>
        </tfoot>
    </table>



    <p id="mensaje">No hay datos disponibles.</p>
    <p id="successMessage">Operación realizada con éxito.</p>



    <script>
        function nombrDelBanco() {
            document.getElementById('nombreDelBanco').textContent = 'Banco Unisimon';
        }
        nombrDelBanco();
        //clientes


        function mostrarClientes() {
            fetch('http://localhost:3000/clientes')
                .then(response => response.json())
                .then(data => {
                    const listaClienteDiv = document.getElementById('listaCliente');
                    listaClienteDiv.innerHTML = '';

                    if (data.length === 0) {
                        document.getElementById('mensaje').style.display = 'block';
                        tablaCliente.style.display = 'none';
                        return;
                    } else {
                        document.getElementById('mensaje').style.display = 'none';
                    }

                    data.forEach(cliente => {
                        const row = document.createElement('tr');
                        const nombreCompleto = `${cliente.Nombre} ${cliente.Apellido}`;
                        row.innerHTML = `
                            <td>${cliente.Id}</td>
                            <td>${nombreCompleto}</td>
                            <td>${cliente.Cedula}</td>
                            <td>${cliente.Telefono}</td>
                            <td><button class="eliminar-btn" data-id="${cliente.Id}" onclick="eliminar_cliente(${cliente.Id})">Eliminar</button></td>
                        `;
                        listaClienteDiv.appendChild(row);
                    });
                    tablaCliente.style.display = 'table';
                })
                .catch(error => console.error('Error al obtener los clientes:', error));
        }

        function mostrarCargo() {
            fetch('http://localhost:3000/Cargo')
                .then(response => response.json())
                .then(data => {
                    const listaCargoDiv = document.getElementById('TablaCargo');
                    listaCargoDiv.innerHTML = '';

                    if (data.length === 0) {
                        document.getElementById('mensaje').style.display = 'block';
                        tablaCargo.style.display = 'none';
                        return;
                    } else {
                        document.getElementById('mensaje').style.display = 'none';
                    }

                    data.forEach(cargo => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${cargo.Id}</td>
                            <td>${cargo.Nombre}</td>
                            <td><button class="eliminar-btn" data-id="${cargo.Id}" onclick="eliminar_cliente(${cargo.Id})">Eliminar</button></td>
                        `;
                        listaCargoDiv.appendChild(row);
                    });
                    tablaCargo.style.display = 'table';
                })
                .catch(error => console.error('Error al obtener los Cargos:', error));
        }

        function mostrarSucursal() {
            fetch('http://localhost:3000/sucursal')
                .then(response => response.json())
                .then(data => {
                    const listaSucursalDiv = document.getElementById('listaSucursal');
                    listaSucursalDiv.innerHTML = '';

                    if (data.length === 0) {
                        document.getElementById('mensaje').style.display = 'block';
                        tablaSucursal.style.display = 'none';
                        return;
                    } else {
                        document.getElementById('mensaje').style.display = 'none';
                    }

                    data.forEach(sucursal => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${sucursal.Id}</td>
                            <td>${sucursal.Nombre}</td>
                            <td>${sucursal.Direccion}</td>
                            <td>${sucursal.Ciudad}</td>
                            <td>${sucursal.Codigo_postal}</td>
                            <td>${sucursal.Telefono}</td>
                            <td><button class="eliminar-btn" data-id="${sucursal.Id}" onclick="eliminar_sucursal(${sucursal.Id})">Eliminar</button></td>
                        `;
                        listaSucursalDiv.appendChild(row);
                    });
                    tablaSucursal.style.display = 'table';
                })
                .catch(error => console.error('Error al obtener los datos de sucursal:', error));
        }

        function mostrarDepartamentos() {
            fetch('http://localhost:3000/Departamento')
                .then(response => response.json())
                .then(data => {
                    const listaDepartamentoDiv = document.getElementById('listaDepartamento');
                    listaDepartamentoDiv.innerHTML = '';
                    if (data.length === 0) {
                        document.getElementById('Mensaje').style.display = 'block';
                        TablaDepartamento.style.display = 'none';
                        return;
                    } else {
                        document.getElementById('mensaje').style.display = 'none';
                    }
                    data.forEach(Departamento => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                    <td>${Departamento.Id}</td>
                    <td>${Departamento.Nombre}</td>
                    <td>${Departamento.Descripcion}</td>
                    <td><button class="eliminar-btn" data-id="${Departamento.Id}" onclick="eliminar_cliente(${Departamento.Id})">Eliminar</button></td>
                `;
                        listaDepartamentoDiv.appendChild(row);
                    });
                    TablaDepartamento.style.display = 'table';
                })
                .catch(error => console.error('Error al obtener los datos de departamento', error));
        }


      

        function eliminar_cargos() {
            const cargosId = document.querySelector('#idEliminarCargo').value;
            eliminar_cargo(cargosId);
        }

        function eliminar_clientes() {
            const clienteId = document.querySelector('#idEliminar').value;
            eliminar_cliente(clienteId);
        }

        function eliminar_sucursales() {
            const SucursalId = document.querySelector('#idEliminarsucursal').value;
            eliminar_sucursal(SucursalId);
        }

        function eliminar_cargo() {
            if (!cargosId) {
                alert('ID de cargos no válido.');
                return;
            }

            fetch(`http://localhost:3000/cargo/eliminar`, {
                method: 'DELETE',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ id: cargosId })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Error: ${response.status} ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    mostrarCargo();
                })
                .catch(err => {
                    console.error('Error al eliminar cargo:', err);
                    alert(`Error al eliminar cargo: ${err.message}`);
                });
        }

        function eliminar_cliente(clienteId) {
            if (!clienteId) {
                alert('ID de cliente no válido.');
                return;
            }

            fetch(`http://localhost:3000/clientes/eliminar`, {
                method: 'DELETE',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ id: clienteId })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Error: ${response.status} ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    mostrarClientes();
                })
                .catch(err => {
                    console.error('Error al eliminar cliente:', err);
                    alert(`Error al eliminar cliente: ${err.message}`);
                });
        }

        function eliminar_sucursal(SucursalId) {
            if (!SucursalId) {
                alert('ID de sucursal no válido.');
                return;
            }

            fetch(`http://localhost:3000/sucursal/eliminar`, {
                method: 'DELETE',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ id: SucursalId })
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`Error: ${response.status} ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    mostrarSucursal();  // Actualiza la lista de sucursales
                })
                .catch(err => {
                    console.error('Error al eliminar sucursal:', err);
                    alert(`Error al eliminar sucursal: ${err.message}`);
                });
        }

        function buscarCliente() {
            const id = document.querySelector('#barraBusqueda').value;

            if (!id) {
                alert('Por favor, introduce un ID');
                return;
            }

            fetch(`http://localhost:3000/obtenerCliente2?id=${id}`)
                .then(response => response.json())
                .then(data => {
                    const divResultado = document.querySelector('#resultadoBusqueda');
                    divResultado.innerHTML = ''; // Limpia el contenido anterior

                    if (data.error) {
                        divResultado.textContent = data.error;
                    } else {
                        const clienteDiv = document.createElement('div');
                        clienteDiv.textContent = `Nombre: ${data.Nombre}, Apellido: ${data.Apellido}, Cédula: ${data.Cedula}, Dirección: ${data.Direccion}, Teléfono: ${data.Telefono}, Correo: ${data.Correo}`;
                        divResultado.appendChild(clienteDiv);
                    }
                })
                .catch(error => console.error('Error al buscar cliente:', error));
        }

        function agregarClientes() {
            const cliente = {
                Nombre: document.getElementById('nombreCliente').value,
                Apellido: document.getElementById('apellidoCliente').value,
                Cedula: document.getElementById('cedulaCliente').value,
                Direccion: document.getElementById('direccionCliente').value,
                Telefono: document.getElementById('telefonoCliente').value,
                Correo: document.getElementById('correoCliente').value
            };

            fetch('http://localhost:3000/clientes/agregar', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(cliente)
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Error en la red');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    mostrarClientes();
                    document.getElementById('successMessage').textContent = 'Cliente agregado exitosamente';
                    document.getElementById('successMessage').style.display = 'block';
                    setTimeout(() => {
                        document.getElementById('successMessage').style.display = 'none';
                    }, 1000);
                })
                .catch(error => {
                    if (error.message === 'Cliente duplicado') {
                        document.getElementById('successMessage').textContent = 'El cliente ya está registrado';
                        document.getElementById('successMessage').style.display = 'block';
                        setTimeout(() => {
                            document.getElementById('successMessage').style.display = 'none';
                        }, 3000);
                    } else {
                        console.error('Error al agregar cliente:', error);
                        alert('Error al agregar cliente.');
                    }
                });
        }

        function agregarSucursal() {
            const sucursal = {
                Nombre: document.getElementById('nombreSucursal').value,
                Direccion: document.getElementById('direccionSucursal').value,
                Ciudad: document.getElementById('ciudadSucursal').value,
                Codigo_postal: document.getElementById('codigoSucursal').value,
                Telefono: document.getElementById('telefonoSucursal').value
            };

            fetch('http://localhost:3000/sucursal/agregar', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(sucursal)
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Error en la red');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    mostrarSucursal(); // Actualiza la lista de sucursales
                    document.getElementById('successMessage').textContent = 'Sucursal agregada exitosamente';
                    document.getElementById('successMessage').style.display = 'block';

                    setTimeout(() => {
                        document.getElementById('successMessage').style.display = 'none';
                    }, 3000);
                }).catch(error => {
                    if (error.message === 'Sucursal duplicada') {
                        document.getElementById('successMessage').textContent = 'La sucursal ya está registrada';
                        document.getElementById('successMessage').style.display = 'block';
                        setTimeout(() => {
                            document.getElementById('successMessage').style.display = 'none';
                        }, 3000);
                    } else {
                        console.error('Error al agregar sucursal', error);
                        alert('Error al agregar sucursal');
                    }

                });
        }


        function agregarDepartamento() {
            const Departamento = {
                Nombre: document.getElementById('nombreDepartamento').value,
                Descripcion: document.getElementbyId('descripcionDepartamento').value
            };
            fetch('http:localhost:3000/Departamento/agregar', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(Departamento)
            })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Error en la red');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log(data);
                    mostrarDepartamentos();
                    document.getElmentbyId('succesMessage').textContent = 'Departamento agregado exitosamente';
                    document.getElementById('succesMessage').style.display = 'block';
                    setTimeout(() => { document.getElementbyId('succesMessage').style.display = 'none'; }, 1000);
                })
                .catch(error => {
                    if (error.message === 'Departamento Duplicado') {
                        document.getElmentbyId('succesMessage').textContent = 'El departamento ya esta registrado';
                        document.getElmentbyId('succesMessage').style.display = 'block';
                        setTimeout(() => {
                            document.getElementById('succesMessage').style.display = 'none';
                        }, 3000);
                    } else {
                        console.error('Error al agregar departamento', error);
                        alert('Error al agregar departamento');
                    }
                });
        }



        /*   function mostrar_Empleado(){
               fetch('http://localhost:3000/Cargo')
                   .then(response => response.json())
                   .then(data => {
                       const listaEmpleado_Cargo = document.getElementById('ListaEmpleado_Cargo'); // Corregido: getElementById
                       listaEmpleado_Cargo.innerHTML = '';
   
                       if (data.length === 0) {
                           document.getElementById('mensaje').style.display = 'block';
                           TablaEmpleadoConcargo.style.display = 'none';
                           return;
                       } else {
                           document.getElementById('mensaje').style.display = 'none';
                       }
                       
                       data.forEach(item => {
                           const Empleado = document.createElement('tr');
                           row.innerHTML = `
                       <td>${Empleado.Id}</td>
                       <td>${Empleado.Nombre}</td>
                       <td>${Empleado.Apellido}</td>
                       <td>${Empleado.Salario}</td>
                       <td>${Empleado.Puesto}</td>
                       <td><button class="eliminar-btn2" data-id="${item.Empleado.Id}" onclick="eliminar_empleado(${item.Empleado.Id})">Eliminar Empleado</button></td>
                   `;
                           listaEmpleado_Cargo.appendChild(row);
                       });
                       data.forEach(item=>{
                           const Cargo = document.createElement('tr');
                           row.innerHTML=`
                      <td>${Cargo.Id}</td>
                       <td>${Cargo.Nombre}</td>
                       <td><button class="eliminar-btn" data-id="${item.cargo.Id}" onclick="eliminar_cargo(${item.cargo.Id})">Eliminar Cargo</button></td>
                   `;
                   listaEmpleado_Cargo.appendChild(row);
                       });
   
                       TablaEmpleadoConcargo.style.display = 'table';
                   })
                   .catch(error => console.error('Error al obtener los Empleados y cargos:', error));
   
           }*/






        //clientes


        //cliente




        function cargar_cliente() {
            const idCliente = document.querySelector('#idActualizar').value;

            fetch(`http://localhost:3000/obtenerCliente?id=${idCliente}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        alert('Error: ' + data.error);
                    } else {
                        document.querySelector('#nuevoNombre').value = data.Nombre;
                        document.querySelector('#nuevoApellido').value = data.Apellido;
                        document.querySelector('#nuevoCedula').value = data.Cedula;
                        document.querySelector('#nuevaDireccion').value = data.Direccion;
                        document.querySelector('#nuevoTelefono').value = data.Telefono;
                        document.querySelector('#nuevoCorreo').value = data.Correo;
                    }
                })
                .catch(error => console.error('Error:', error));
        }

        // POR CORREGIR PROBLEMAS CON EL ID NO LO LEE POR LOS CAMBIOS   
        function cargar_Sucursal() {
            const idSucursal = document.querySelector('#idActualizarS').value;
            fetch(`http://localhost:3000/obtenerSucursal?id=${idSucursal}`)
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        alert('Error: ' + data.error);
                    } else {
                        document.querySelector('#nuevoNombreS').value = data.Nombre;
                        document.querySelector('#nuevaDireccionS').value = data.Direccion;
                        document.querySelector('#nuevaCiudadS').value = data.Ciudad;
                        document.querySelector('#nuevoCodigoPostalS').value = data.Codigo;
                        document.querySelector('#nuevoTelefonoS').value = data.Telefono;
                    }
                })
                .catch(error => console.error('Error:', error));
        }



        function guardar_cambios_cliente() {
            const datosActualizados = {
                Cedula: document.querySelector('#nuevoCedula').value,
                Nombre: document.querySelector('#nuevoNombre').value,
                Apellido: document.querySelector('#nuevoApellido').value,
                Direccion: document.querySelector('#nuevaDireccion').value,
                Telefono: document.querySelector('#nuevoTelefono').value,
                Correo: document.querySelector('#nuevoCorreo').value
            };

            fetch('http://localhost:3000/actualizarCliente', {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(datosActualizados)
            })
                .then(response => {
                    if (!response.ok) {
                        return response.json().then(errorData => {
                            throw new Error(errorData.error || 'Error desconocido');
                        });
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Respuesta del servidor:', data);
                    mostrarClientes(); // Actualizar la lista de clientes
                })
                .catch(error => console.error('Error al actualizar el cliente:', error.message));
        }

        function guardar_cambios_sucursal() {
            const datosActualizados = {
                Nombre: document.querySelector('#nuevoNombreS').value,
                Direccion: document.querySelector('#nuevaDireccionS').value,
                Ciudad: document.querySelector('#nuevaCiudadS').value,
                Codigo: document.querySelector('#nuevoCodigoPostalS').value,
                Telefono: document.querySelector('#nuevoTelefonoS').value
            };

            fetch('http://localhost:3000/actualizarSucursal', {
                method: 'PUT',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify(datosActualizados)
            })
                .then(response => {
                    if (!response.ok) {
                        return response.json().then(errorData => {
                            throw new Error(errorData.error || 'Error desconocido');
                        });
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Respuesta del servidor:', data);
                    mostrarSucursal(); // Actualizar la lista de Sucursal
                })
                .catch(error => console.error('Error al actualizar la Sucursal:', error.message));
        }
        mostrarClientes();
        mostrarCargo();
        mostrarSucursal();
        mostrarDepartamentos();


    </script>
</body>

</html>